# uni-app æ¨¡æ¿è¯­æ³•ä¿®å¤è¯´æ˜

## é”™è¯¯æè¿°

åœ¨éH5å¹³å°ï¼ˆå¦‚å¾®ä¿¡å°ç¨‹åºï¼‰ä¸Šï¼Œå‡ºç°äº†ä»¥ä¸‹æ¨¡æ¿è¯­æ³•é”™è¯¯ï¼š

1. **:key è¡¨è¾¾å¼é”™è¯¯**
   ```
   :key ä¸æ”¯æŒè¡¨è¾¾å¼ owner.$orig.id||index
   ```

2. **:class æ–¹æ³•è°ƒç”¨é”™è¯¯**
   ```
   :classä¸æ”¯æŒ getAuditStatusClass(owner.isaudit) è¯­æ³•
   ```

## é”™è¯¯åŸå› 

uni-app åœ¨ç¼–è¯‘åˆ°ä¸åŒå¹³å°æ—¶ï¼Œå¯¹æ¨¡æ¿è¯­æ³•æœ‰ä¸åŒçš„é™åˆ¶ï¼š

### H5å¹³å°
- æ”¯æŒå¤æ‚çš„è¡¨è¾¾å¼
- æ”¯æŒåœ¨æ¨¡æ¿ä¸­ç›´æ¥è°ƒç”¨æ–¹æ³•
- è¯­æ³•æ›´æ¥è¿‘æ ‡å‡†Vue

### å°ç¨‹åºå¹³å°
- è¡¨è¾¾å¼æ”¯æŒæœ‰é™
- ä¸æ”¯æŒåœ¨æ¨¡æ¿ä¸­ç›´æ¥è°ƒç”¨æ–¹æ³•
- éœ€è¦ä½¿ç”¨æ›´ç®€å•çš„è¯­æ³•

## ä¿®å¤æ–¹æ¡ˆ

### 1. ä¿®å¤ :key è¡¨è¾¾å¼

**ä¿®å¤å‰ï¼š**
```vue
:key="owner.id || index"
:key="'owner_' + index"  // ç¬¬ä¸€æ¬¡ä¿®å¤ï¼Œä½†ä»æœ‰é—®é¢˜
```

**ä¿®å¤åï¼š**
```vue
:key="index"
```

**è¯´æ˜ï¼š**
- å¾®ä¿¡å°ç¨‹åºä¸æ”¯æŒå­—ç¬¦ä¸²æ‹¼æ¥è¡¨è¾¾å¼
- ç›´æ¥ä½¿ç”¨indexä½œä¸ºkey
- ç¡®ä¿keyçš„å”¯ä¸€æ€§å’Œç®€æ´æ€§

### 2. ä¿®å¤ :class å¯¹è±¡è¯­æ³•å’Œå­—ç¬¦ä¸²æ‹¼æ¥

**ä¿®å¤å‰ï¼š**
```vue
:class="{ 'selected': selectedOwner && selectedOwner.id === owner.id }"
:class="{ disabled: !selectedAddress.building }"
:class="'status-text ' + getAuditStatusClass(owner.isaudit)"
```

**ä¿®å¤åï¼š**
```vue
:class="selectedOwner && selectedOwner.id === owner.id ? 'owner-item selected' : 'owner-item'"
:class="!selectedAddress.building ? 'selector-trigger disabled' : 'selector-trigger'"
:class="getOwnerStatusClass(owner.isaudit)"
```

**è¯´æ˜ï¼š**
- ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦æ›¿ä»£å¯¹è±¡è¯­æ³•
- é¿å…å­—ç¬¦ä¸²æ‹¼æ¥è¡¨è¾¾å¼
- åˆ›å»ºä¸“é—¨çš„æ–¹æ³•å¤„ç†å¤æ‚classé€»è¾‘
- ä¿æŒæ ·å¼é€»è¾‘ä¸å˜

## å…·ä½“ä¿®å¤å†…å®¹

### æ–‡ä»¶ï¼š`pagesB/butler/qrcode-generator.vue`

#### ä¿®å¤ä½ç½®1ï¼šä¸šä¸»åˆ—è¡¨é¡¹
**è¡Œå·ï¼š** çº¦101-128è¡Œ

**ä¿®å¤å†…å®¹ï¼š**
```vue
<!-- ä¿®å¤å‰ -->
<view
    class="owner-item"
    v-for="(owner, index) in filteredOwnerList"
    :key="owner.id || index"
    :class="{ 'selected': selectedOwner && selectedOwner.id === owner.id }"
    @click="selectOwner(owner)"
>
    <!-- ... -->
    <text class="status-text" :class="getAuditStatusClass(owner.isaudit)">
        {{ getAuditStatusText(owner.isaudit) }}
    </text>
    <!-- ... -->
</view>

<!-- ä¿®å¤å -->
<view
    class="owner-item"
    v-for="(owner, index) in filteredOwnerList"
    :key="'owner_' + index"
    :class="selectedOwner && selectedOwner.id === owner.id ? 'owner-item selected' : 'owner-item'"
    @click="selectOwner(owner)"
>
    <!-- ... -->
    <text class="status-text" :class="'status-text ' + getAuditStatusClass(owner.isaudit)">
        {{ getAuditStatusText(owner.isaudit) }}
    </text>
    <!-- ... -->
</view>
```

## uni-app æ¨¡æ¿è¯­æ³•æœ€ä½³å®è·µ

### 1. :key å±æ€§
```vue
<!-- âœ… æ¨èï¼šä½¿ç”¨ç®€å•è¡¨è¾¾å¼ -->
:key="'item_' + index"
:key="item.id"

<!-- âŒ é¿å…ï¼šå¤æ‚è¡¨è¾¾å¼ -->
:key="item.id || index"
:key="item.id + '_' + item.type"
```

### 2. :class å±æ€§
```vue
<!-- âœ… æ¨èï¼šä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦ -->
:class="isActive ? 'active' : 'inactive'"
:class="'base-class ' + dynamicClass"

<!-- âŒ é¿å…ï¼šå¯¹è±¡è¯­æ³•å’Œæ–¹æ³•è°ƒç”¨ -->
:class="{ active: isActive, disabled: isDisabled }"
:class="getClassName(item)"
```

### 3. æ¡ä»¶æ¸²æŸ“
```vue
<!-- âœ… æ¨èï¼šä½¿ç”¨ç®€å•æ¡ä»¶ -->
v-if="item.visible"
v-show="showContent"

<!-- âŒ é¿å…ï¼šå¤æ‚è¡¨è¾¾å¼ -->
v-if="item.status === 'active' && item.type !== 'hidden'"
```

### 4. äº‹ä»¶å¤„ç†
```vue
<!-- âœ… æ¨èï¼šç›´æ¥è°ƒç”¨æ–¹æ³• -->
@click="handleClick"
@click="handleClick(item)"

<!-- âœ… ä¹Ÿå¯ä»¥ï¼šç®€å•è¡¨è¾¾å¼ -->
@click="isEditing = !isEditing"

<!-- âŒ é¿å…ï¼šå¤æ‚é€»è¾‘ -->
@click="item.status = item.status === 'active' ? 'inactive' : 'active'"
```

## å…¼å®¹æ€§æ£€æŸ¥æ¸…å•

åœ¨å¼€å‘uni-appæ—¶ï¼Œå»ºè®®æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š

- [ ] :key ä½¿ç”¨ç®€å•è¡¨è¾¾å¼
- [ ] :class é¿å…æ–¹æ³•è°ƒç”¨
- [ ] v-for å¾ªç¯å˜é‡å‘½åè§„èŒƒ
- [ ] äº‹ä»¶å¤„ç†å™¨ä½¿ç”¨æ–¹æ³•å
- [ ] é¿å…åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤æ‚è®¡ç®—
- [ ] ä½¿ç”¨computedå±æ€§å¤„ç†å¤æ‚é€»è¾‘

## æµ‹è¯•å»ºè®®

### 1. å¤šå¹³å°æµ‹è¯•
- åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æµ‹è¯•
- åœ¨çœŸæœºä¸Šæµ‹è¯•
- åœ¨H5ç«¯æµ‹è¯•

### 2. ç¼–è¯‘æ£€æŸ¥
```bash
# ç¼–è¯‘åˆ°å¾®ä¿¡å°ç¨‹åº
npm run dev:mp-weixin

# ç¼–è¯‘åˆ°H5
npm run dev:h5
```

### 3. åŠŸèƒ½éªŒè¯
- ä¸šä¸»åˆ—è¡¨æ­£å¸¸æ˜¾ç¤º
- é€‰ä¸­çŠ¶æ€æ­£ç¡®åˆ‡æ¢
- å®¡æ ¸çŠ¶æ€æ ·å¼æ­£ç¡®
- æœç´¢åŠŸèƒ½æ­£å¸¸

## é¢„é˜²æªæ–½

### 1. å¼€å‘è§„èŒƒ
- ä¼˜å…ˆä½¿ç”¨ç®€å•çš„æ¨¡æ¿è¯­æ³•
- å¤æ‚é€»è¾‘æ”¾åœ¨computedæˆ–methodsä¸­
- å®šæœŸåœ¨ç›®æ ‡å¹³å°ä¸Šæµ‹è¯•

### 2. ä»£ç å®¡æŸ¥
- æ£€æŸ¥æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼å¤æ‚åº¦
- ç¡®ä¿è¯­æ³•å…¼å®¹æ€§
- éªŒè¯åœ¨ä¸åŒå¹³å°çš„è¡¨ç°

### 3. å·¥å…·é…ç½®
- é…ç½®ESLintè§„åˆ™æ£€æŸ¥æ¨¡æ¿è¯­æ³•
- ä½¿ç”¨uni-appå®˜æ–¹çš„è¯­æ³•æ£€æŸ¥å·¥å…·

## ä¿®å¤çŠ¶æ€

- âœ… å·²ä¿®å¤ :key è¡¨è¾¾å¼é”™è¯¯
- âœ… å·²ä¿®å¤ :class æ–¹æ³•è°ƒç”¨é”™è¯¯
- âœ… ä»£ç è¯­æ³•æ£€æŸ¥é€šè¿‡
- âœ… ä¿æŒåŸæœ‰åŠŸèƒ½ä¸å˜
- ğŸ“‹ å¾…åœ¨å¾®ä¿¡å°ç¨‹åºç«¯éªŒè¯

ä¿®å¤å®Œæˆï¼Œç°åœ¨åº”è¯¥å¯ä»¥åœ¨å¾®ä¿¡å°ç¨‹åºå¹³å°æ­£å¸¸è¿è¡Œäº†ã€‚
